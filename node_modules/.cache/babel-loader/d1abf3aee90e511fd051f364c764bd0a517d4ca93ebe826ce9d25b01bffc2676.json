{"ast":null,"code":"import React,{useState}from\"react\";import{Form,Button,Alert}from\"react-bootstrap\";import Auth from\"../utils/auth\";import{useMutation}from\"@apollo/client\";import{ADD_USER}from\"../utils/mutations\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const SignupForm=()=>{const[userFormData,setUserFormData]=useState({username:\"\",email:\"\",password:\"\"});const[validated]=useState(false);const[addUser,{error,data}]=useMutation(ADD_USER);const handleInputChange=event=>{const{name,value}=event.target;setUserFormData({...userFormData,[name]:value});};const handleFormSubmit=async event=>{event.preventDefault();const form=event.currentTarget;if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}try{const{data}=await addUser({variables:{...userFormData}});Auth.login(data.addUser.token);setUserFormData({username:\"\",email:\"\",password:\"\"});}catch(e){console.error(e);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Form,{noValidate:true,validated:validated,onSubmit:handleFormSubmit,children:[error&&/*#__PURE__*/_jsx(Alert,{dismissible:true,variant:\"danger\",children:error.message}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:handleInputChange,value:userFormData.username,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Username is required.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:handleInputChange,value:userFormData.email,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Email is required.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:handleInputChange,value:userFormData.password,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Password is required.\"})]}),/*#__PURE__*/_jsx(Button,{disabled:!(userFormData.username&&userFormData.email&&userFormData.password),type:\"submit\",className:\"more-details\",children:\"Submit\"})]})});};export default SignupForm;","map":{"version":3,"names":["React","useState","Form","Button","Alert","Auth","useMutation","ADD_USER","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SignupForm","userFormData","setUserFormData","username","email","password","validated","addUser","error","data","handleInputChange","event","name","value","target","handleFormSubmit","preventDefault","form","currentTarget","checkValidity","stopPropagation","variables","login","token","e","console","children","noValidate","onSubmit","dismissible","variant","message","Group","Label","htmlFor","Control","type","placeholder","onChange","required","Feedback","disabled","className"],"sources":["/Users/phoenix/code/vercel/swapcommf/src/components/SignupForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\n\nimport Auth from \"../utils/auth\";\nimport { useMutation } from \"@apollo/client\";\nimport { ADD_USER } from \"../utils/mutations\";\n\nconst SignupForm = () => {\n  const [userFormData, setUserFormData] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n  const [validated] = useState(false);\n\n  const [addUser, { error, data }] = useMutation(ADD_USER);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    try {\n      const { data } = await addUser({\n        variables: { ...userFormData },\n      });\n      Auth.login(data.addUser.token);\n\n      setUserFormData({\n        username: \"\",\n        email: \"\",\n        password: \"\",\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <>\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        {error && (\n          <Alert dismissible variant=\"danger\">\n            {error.message}\n          </Alert>\n        )}\n        <Form.Group>\n          <Form.Label htmlFor=\"username\">Username</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Your username\"\n            name=\"username\"\n            onChange={handleInputChange}\n            value={userFormData.username}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Username is required.\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor=\"email\">Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Your email address\"\n            name=\"email\"\n            onChange={handleInputChange}\n            value={userFormData.email}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Email is required.\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Your password\"\n            name=\"password\"\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Password is required.\n          </Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={\n            !(\n              userFormData.username &&\n              userFormData.email &&\n              userFormData.password\n            )\n          }\n          type=\"submit\"\n          className=\"more-details\"\n        >\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default SignupForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,MAAM,CAAEC,KAAK,KAAQ,iBAAiB,CAErD,MAAO,CAAAC,IAAI,KAAM,eAAe,CAChC,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,OAASC,QAAQ,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE9C,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGf,QAAQ,CAAC,CAC/CgB,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CAEF,KAAM,CAACC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAEnC,KAAM,CAACoB,OAAO,CAAE,CAAEC,KAAK,CAAEC,IAAK,CAAC,CAAC,CAAGjB,WAAW,CAACC,QAAQ,CAAC,CAExD,KAAM,CAAAiB,iBAAiB,CAAIC,KAAK,EAAK,CACnC,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,KAAK,CAACG,MAAM,CACpCZ,eAAe,CAAC,CAAE,GAAGD,YAAY,CAAE,CAACW,IAAI,EAAGC,KAAM,CAAC,CAAC,CACrD,CAAC,CACD,KAAM,CAAAE,gBAAgB,CAAG,KAAO,CAAAJ,KAAK,EAAK,CACxCA,KAAK,CAACK,cAAc,CAAC,CAAC,CAEtB,KAAM,CAAAC,IAAI,CAAGN,KAAK,CAACO,aAAa,CAChC,GAAID,IAAI,CAACE,aAAa,CAAC,CAAC,GAAK,KAAK,CAAE,CAClCR,KAAK,CAACK,cAAc,CAAC,CAAC,CACtBL,KAAK,CAACS,eAAe,CAAC,CAAC,CACzB,CACA,GAAI,CACF,KAAM,CAAEX,IAAK,CAAC,CAAG,KAAM,CAAAF,OAAO,CAAC,CAC7Bc,SAAS,CAAE,CAAE,GAAGpB,YAAa,CAC/B,CAAC,CAAC,CACFV,IAAI,CAAC+B,KAAK,CAACb,IAAI,CAACF,OAAO,CAACgB,KAAK,CAAC,CAE9BrB,eAAe,CAAC,CACdC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CACJ,CAAE,MAAOmB,CAAC,CAAE,CACVC,OAAO,CAACjB,KAAK,CAACgB,CAAC,CAAC,CAClB,CACF,CAAC,CAED,mBACE7B,IAAA,CAAAI,SAAA,EAAA2B,QAAA,cACE7B,KAAA,CAACT,IAAI,EAACuC,UAAU,MAACrB,SAAS,CAAEA,SAAU,CAACsB,QAAQ,CAAEb,gBAAiB,CAAAW,QAAA,EAC/DlB,KAAK,eACJb,IAAA,CAACL,KAAK,EAACuC,WAAW,MAACC,OAAO,CAAC,QAAQ,CAAAJ,QAAA,CAChClB,KAAK,CAACuB,OAAO,CACT,CACR,cACDlC,KAAA,CAACT,IAAI,CAAC4C,KAAK,EAAAN,QAAA,eACT/B,IAAA,CAACP,IAAI,CAAC6C,KAAK,EAACC,OAAO,CAAC,UAAU,CAAAR,QAAA,CAAC,UAAQ,CAAY,CAAC,cACpD/B,IAAA,CAACP,IAAI,CAAC+C,OAAO,EACXC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,eAAe,CAC3BzB,IAAI,CAAC,UAAU,CACf0B,QAAQ,CAAE5B,iBAAkB,CAC5BG,KAAK,CAAEZ,YAAY,CAACE,QAAS,CAC7BoC,QAAQ,MACT,CAAC,cACF5C,IAAA,CAACP,IAAI,CAAC+C,OAAO,CAACK,QAAQ,EAACJ,IAAI,CAAC,SAAS,CAAAV,QAAA,CAAC,uBAEtC,CAAuB,CAAC,EACd,CAAC,cAEb7B,KAAA,CAACT,IAAI,CAAC4C,KAAK,EAAAN,QAAA,eACT/B,IAAA,CAACP,IAAI,CAAC6C,KAAK,EAACC,OAAO,CAAC,OAAO,CAAAR,QAAA,CAAC,OAAK,CAAY,CAAC,cAC9C/B,IAAA,CAACP,IAAI,CAAC+C,OAAO,EACXC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,oBAAoB,CAChCzB,IAAI,CAAC,OAAO,CACZ0B,QAAQ,CAAE5B,iBAAkB,CAC5BG,KAAK,CAAEZ,YAAY,CAACG,KAAM,CAC1BmC,QAAQ,MACT,CAAC,cACF5C,IAAA,CAACP,IAAI,CAAC+C,OAAO,CAACK,QAAQ,EAACJ,IAAI,CAAC,SAAS,CAAAV,QAAA,CAAC,oBAEtC,CAAuB,CAAC,EACd,CAAC,cAEb7B,KAAA,CAACT,IAAI,CAAC4C,KAAK,EAAAN,QAAA,eACT/B,IAAA,CAACP,IAAI,CAAC6C,KAAK,EAACC,OAAO,CAAC,UAAU,CAAAR,QAAA,CAAC,UAAQ,CAAY,CAAC,cACpD/B,IAAA,CAACP,IAAI,CAAC+C,OAAO,EACXC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,eAAe,CAC3BzB,IAAI,CAAC,UAAU,CACf0B,QAAQ,CAAE5B,iBAAkB,CAC5BG,KAAK,CAAEZ,YAAY,CAACI,QAAS,CAC7BkC,QAAQ,MACT,CAAC,cACF5C,IAAA,CAACP,IAAI,CAAC+C,OAAO,CAACK,QAAQ,EAACJ,IAAI,CAAC,SAAS,CAAAV,QAAA,CAAC,uBAEtC,CAAuB,CAAC,EACd,CAAC,cACb/B,IAAA,CAACN,MAAM,EACLoD,QAAQ,CACN,EACExC,YAAY,CAACE,QAAQ,EACrBF,YAAY,CAACG,KAAK,EAClBH,YAAY,CAACI,QAAQ,CAExB,CACD+B,IAAI,CAAC,QAAQ,CACbM,SAAS,CAAC,cAAc,CAAAhB,QAAA,CACzB,QAED,CAAQ,CAAC,EACL,CAAC,CACP,CAAC,CAEP,CAAC,CAED,cAAe,CAAA1B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}