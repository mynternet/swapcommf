{"ast":null,"code":"var _jsxFileName = \"/Users/phoenix/code/vercel/swapcommf/src/pages/SearchItem.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Jumbotron, Container, Col, Form, Button, Card, Row, CardColumns } from \"react-bootstrap\";\nimport { Animated } from \"react-animated-css\";\nimport Auth from \"../utils/auth\";\nimport { saveItemIds, getSavedItemIds } from \"../utils/localStorage\";\nimport { ADD_ITEM } from \"../utils/mutations\";\nimport { GET_ALL_ITEMS } from \"../utils/queries\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport ItemCard from \"../components/ItemCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchItems = () => {\n  _s();\n  const [searchedItems, setSearchedItems] = useState([]);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [savedItemIds, setSavedItemIds] = useState(getSavedItemIds());\n  const getAllItems = useQuery(GET_ALL_ITEMS, {\n    onCompleted: fundData => {\n      setSearchedItems(fundData.getAllItems);\n      console.log(\"got fund data\", fundData);\n    }\n  });\n  useEffect(() => {\n    return () => saveItemIds(savedItemIds);\n  });\n  const handleSearchChange = e => {\n    e.preventDefault();\n    setSearchInput(e.target.value);\n  };\n  const getFilteredResults = allResult => {\n    const reversed = [...searchedItems].reverse();\n    return reversed.filter(item => {\n      return item.itemStatus === 'pending' && (\n      // Only include items with 'pending' status\n      item.itemName.toLowerCase().includes(searchInput.toLowerCase()) || item.description.toLowerCase().includes(searchInput.toLowerCase()));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Jumbotron, {\n      fluid: true,\n      className: \"text-light page-header\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Browse Items!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formSearch\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"search\",\n            placeholder: \"Search\",\n            className: \"search\",\n            width: 50,\n            onChange: handleSearchChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), getAllItems.loading && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading items\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 31\n    }, this), !getAllItems.loading && searchedItems && /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [getFilteredResults(searchedItems).length, \" Items\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardColumns, {\n        children: getFilteredResults(searchedItems).map(item => {\n          return /*#__PURE__*/_jsxDEV(ItemCard, {\n            item: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 22\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(SearchItems, \"ftHnIEYobKglyllLDhTVu2u07s4=\", false, function () {\n  return [useQuery];\n});\n_c = SearchItems;\nexport default SearchItems;\nvar _c;\n$RefreshReg$(_c, \"SearchItems\");","map":{"version":3,"names":["React","useState","useEffect","Jumbotron","Container","Col","Form","Button","Card","Row","CardColumns","Animated","Auth","saveItemIds","getSavedItemIds","ADD_ITEM","GET_ALL_ITEMS","useMutation","useQuery","ItemCard","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchItems","_s","searchedItems","setSearchedItems","searchInput","setSearchInput","savedItemIds","setSavedItemIds","getAllItems","onCompleted","fundData","console","log","handleSearchChange","e","preventDefault","target","value","getFilteredResults","allResult","reversed","reverse","filter","item","itemStatus","itemName","toLowerCase","includes","description","children","fluid","className","fileName","_jsxFileName","lineNumber","columnNumber","Group","controlId","Control","type","placeholder","width","onChange","loading","length","map","_c","$RefreshReg$"],"sources":["/Users/phoenix/code/vercel/swapcommf/src/pages/SearchItem.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Jumbotron,\n  Container,\n  Col,\n  Form,\n  Button,\n  Card,\n  Row,\n  CardColumns,\n} from \"react-bootstrap\";\nimport { Animated } from \"react-animated-css\";\n\nimport Auth from \"../utils/auth\";\nimport {\n  saveItemIds,\n  getSavedItemIds,\n} from \"../utils/localStorage\";\nimport { ADD_ITEM } from \"../utils/mutations\";\nimport { GET_ALL_ITEMS } from \"../utils/queries\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport ItemCard from \"../components/ItemCard\";\n\nconst SearchItems = () => {\n  const [searchedItems, setSearchedItems] = useState([]);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [savedItemIds, setSavedItemIds] = useState(\n    getSavedItemIds()\n  );\n\n  const getAllItems = useQuery(GET_ALL_ITEMS, {\n    onCompleted: (fundData) => {\n      setSearchedItems(fundData.getAllItems);\n\n      console.log(\"got fund data\", fundData);\n    },\n  });\n\n  useEffect(() => {\n    return () => saveItemIds(savedItemIds);\n  });\n\n  const handleSearchChange = (e) => {\n    e.preventDefault();\n    setSearchInput(e.target.value);\n  };\n\n const getFilteredResults = (allResult) => {\n  const reversed = [...searchedItems].reverse();\n  return reversed.filter((item) => {\n    return (\n      item.itemStatus === 'pending' && // Only include items with 'pending' status\n      (item.itemName.toLowerCase().includes(searchInput.toLowerCase()) ||\n       item.description.toLowerCase().includes(searchInput.toLowerCase()))\n    );\n  });\n};\n  return (\n    <>\n      <Jumbotron fluid className=\"text-light page-header\">\n        <Container>\n          <h1>Browse Items!</h1>\n\n          <Form.Group className=\"mb-3\" controlId=\"formSearch\">\n            <Form.Control\n              type=\"search\"\n              placeholder=\"Search\"\n              className=\"search\"\n              width={50}\n              onChange={handleSearchChange}\n            />\n          </Form.Group>\n        </Container>\n      </Jumbotron>\n\n      {getAllItems.loading && <h1>Loading items</h1>}\n      {!getAllItems.loading && searchedItems && (\n        <Container>\n          <h2>{getFilteredResults(searchedItems).length} Items</h2>\n          <CardColumns>\n            {getFilteredResults(searchedItems).map((item) => {\n              return <ItemCard item={item} />;\n            })}\n          </CardColumns>\n        </Container>\n      )}\n    </>\n  );\n};\n\nexport default SearchItems;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}