{"ast":null,"code":"import React,{useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{Container,Row,Col,Button,Jumbotron,Alert}from'react-bootstrap';import{useQuery,useMutation}from'@apollo/client';import{GET_ITEM_BY_ID}from'../utils/queries';import{ADD_CONTRIBUTION}from'../utils/mutations';import Auth from'../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ItemDetail=()=>{const{id}=useParams();const navigate=useNavigate();const[showWarning,setShowWarning]=useState(false);const[contributionFormData,setContributionFormData]=useState({amount:0,creditCardNumber:'',creditCardName:'',creditCardExpirationMonth:'',creditCardExpirationYear:'',creditCardCvv:''});const currentUser=Auth.getProfile().data.username;const[addContribution]=useMutation(ADD_CONTRIBUTION);const{loading,data,error}=useQuery(GET_ITEM_BY_ID,{variables:{itemId:id}});const handleInputChange=e=>{const{name,value}=e.target;setContributionFormData({...contributionFormData,[name]:value});};const handleContributionSubmit=async e=>{e.preventDefault();// ... Contribution submit logic ...\n};if(loading){return/*#__PURE__*/_jsx(\"h1\",{children:\"Still loading...\"});}if(error){console.error('Error fetching item details:',error);return/*#__PURE__*/_jsx(\"h2\",{children:\"Error loading item details.\"});}const itemData=data.getItemById;const goToSwapItems=()=>{if(itemData.owner===currentUser){setShowWarning(true);return;}navigate(\"/swap/\".concat(id,\"/\").concat(itemData.owner));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Jumbotron,{fluid:true,className:\"text-light page-header\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"h1\",{children:itemData.itemName})})}),/*#__PURE__*/_jsxs(Container,{children:[showWarning&&/*#__PURE__*/_jsx(Alert,{variant:\"warning\",onClose:()=>setShowWarning(false),dismissible:true,children:\"You can't swap items with yourself!\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{xs:4,children:[/*#__PURE__*/_jsx(\"img\",{width:350,src:itemData.image,alt:itemData.itemName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{onClick:goToSwapItems,children:\"Go to Swap Items\"})]}),/*#__PURE__*/_jsxs(Col,{xs:8,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[\"Created by \",/*#__PURE__*/_jsx(\"strong\",{children:itemData.owner}),\" on \",/*#__PURE__*/_jsx(\"em\",{children:itemData.createdAt})]}),/*#__PURE__*/_jsx(\"p\",{children:itemData.description}),itemData.location&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",itemData.location]})]})]})]})]});};export default ItemDetail;","map":{"version":3,"names":["React","useState","useParams","useNavigate","Container","Row","Col","Button","Jumbotron","Alert","useQuery","useMutation","GET_ITEM_BY_ID","ADD_CONTRIBUTION","Auth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ItemDetail","id","navigate","showWarning","setShowWarning","contributionFormData","setContributionFormData","amount","creditCardNumber","creditCardName","creditCardExpirationMonth","creditCardExpirationYear","creditCardCvv","currentUser","getProfile","data","username","addContribution","loading","error","variables","itemId","handleInputChange","e","name","value","target","handleContributionSubmit","preventDefault","children","console","itemData","getItemById","goToSwapItems","owner","concat","fluid","className","itemName","variant","onClose","dismissible","xs","width","src","image","alt","onClick","createdAt","description","location"],"sources":["/Users/phoenix/code/vercel/swapcommf/src/pages/ItemDetail.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Row, Col, Button, Jumbotron, Alert } from 'react-bootstrap';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { GET_ITEM_BY_ID } from '../utils/queries';\nimport { ADD_CONTRIBUTION } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nconst ItemDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [showWarning, setShowWarning] = useState(false);\n\n  const [contributionFormData, setContributionFormData] = useState({\n    amount: 0,\n    creditCardNumber: '',\n    creditCardName: '',\n    creditCardExpirationMonth: '',\n    creditCardExpirationYear: '',\n    creditCardCvv: '',\n  });\n\n  const currentUser = Auth.getProfile().data.username;\n\n  const [addContribution] = useMutation(ADD_CONTRIBUTION);\n\n  const { loading, data, error } = useQuery(GET_ITEM_BY_ID, {\n    variables: { itemId: id },\n  });\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setContributionFormData({ ...contributionFormData, [name]: value });\n  };\n\n  const handleContributionSubmit = async (e) => {\n    e.preventDefault();\n    // ... Contribution submit logic ...\n  };\n\n  if (loading) {\n    return <h1>Still loading...</h1>;\n  }\n\n  if (error) {\n    console.error('Error fetching item details:', error);\n    return <h2>Error loading item details.</h2>;\n  }\n\n  const itemData = data.getItemById;\n\n  const goToSwapItems = () => {\n    if (itemData.owner === currentUser) {\n      setShowWarning(true);\n      return;\n    }\n    navigate(`/swap/${id}/${itemData.owner}`);\n  };\n\n  return (\n    <>\n      <Jumbotron fluid className=\"text-light page-header\">\n        <Container>\n          <h1>{itemData.itemName}</h1>\n        </Container>\n      </Jumbotron>\n      <Container>\n        {showWarning && (\n          <Alert variant=\"warning\" onClose={() => setShowWarning(false)} dismissible>\n            You can't swap items with yourself!\n          </Alert>\n        )}\n        <Row>\n          <Col xs={4}>\n            <img width={350} src={itemData.image} alt={itemData.itemName} />\n            <br />\n            <br />\n            <Button onClick={goToSwapItems}>Go to Swap Items</Button>\n          </Col>\n          <Col xs={8}>\n            <div className=\"form\">\n              Created by <strong>{itemData.owner}</strong> on <em>{itemData.createdAt}</em>\n            </div>\n            <p>{itemData.description}</p>\n            {itemData.location && (\n              <p><strong>Location:</strong> {itemData.location}</p>\n            )}\n            {/* Additional content, forms, or logic for the item details can be added here */}\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n};\n\nexport default ItemDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}